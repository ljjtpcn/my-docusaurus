---
title: MySQL范式
date: 2021-12-30
tags: [mysql, 数据库]
---

:::info
**设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。关系数据库有六种范式：第一范式(1NF)、第二范式(2NF)、第三范式(3NF)、巴斯-科德范式(BCNF)、第四范式(4NF)和第五范式(5NF，又称完美范式)。**
:::

> 以下为一张普通表通过遵循前三个范式所得到的最终表的处理过程 

**<center>普通表</center>**

**<center>![](https://hexoljj.oss-cn-shenzhen.aliyuncs.com/img/202112131021566.png)</center>**

### 第一范式(1NF)

> 对于添加的一个规范要求，所有的域都应该是原子性的，即数据库表的每一列都是不可分割的原子数据项，而不能是集合，数组，记录等非原子数据项。

将**系**列拆分成**系名**,**系主任**两列
**<center>遵循第一范式处理后的表</center>**

**<center>![](https://hexoljj.oss-cn-shenzhen.aliyuncs.com/img/202112131023102.png)</center>**

:::danger
**存在的问题:**

    1. 数据冗余: 姓名,系名,系主任
    2. 数据添加存在问题: 添加新开设的系和系主任时,数据不合法
    3. 数据删除存在问题: 张无忌同学毕业了,删除数据,会将系的数据一起删除
:::

###  第二范式(2NF)

> 在1NF的基础上，非码属性必须完全依赖于候选码（在1NF基础上消除非主属性对主码的部分函数依赖）

消除`(姓名,系名,系主任)`非主属性对码`(学号,课程)`的部分依赖,剩下保留命名为**选课表**,新增**学生表**

+ 函数依赖

    `A --> B`, 如果通过A属性(属性组)的值,可以唯一确定B属性的值。则称B依赖于A
    
    例如:`学号 --> 姓名`  `(学号,课程名称)  --> 分数`

+ 完全函数依赖

    `A --> B`, 如果A是一个属性组,则B属性值的确定需要依赖于A属性组中**所有**的属性值

    例如:`(学号,课程名称)  --> 分数`

+ 部分函数依赖

    `A --> B`, 如果A是一个属性组,则B属性值的确定只需要依赖于A属性组中**某一些**值即可

    例如:`(学号,课程名称)  --> 姓名`

+ 传递函数依赖

    `A --> B, B --> C`, 如果通过A属性(属性组)的值,可以确定唯一B属性的值,再通过B属性(属性组)的值可以唯一确定C属性的值,则称C传递依赖于A

    例如:`(学号 --> 系名, 系名 --> 系主任)`

+ 码

    如果在一张表中,一个属性或属性组,被其他所有属性所完全依赖,则称这个属性(属性组)为该表的码
    
    主属性: 码属性组中的所有属性

    非主属性: 除码属性组的属性

    例如: 该表中码为`(学号,课程名称)`

> 在`1NF`**表**中,分数完全依赖于`(学号,课程)`,故不删除在**学生表**中,`学号`为主属性,`(姓名,系名,系主任)`为非主属性,`(分数,课程名称)`属性可删除

**<center>将表拆分,解决问题1(数据冗余)</center>**

**<center>![](https://hexoljj.oss-cn-shenzhen.aliyuncs.com/img/202112131112617.png)</center>**

### 第三范式(3NF)

> 在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）

观察上方`2NF`**学生表**可知,其存在传递依赖`学号 --> 系名, 系名 --> 系主任`,故需消除该传递依赖,将学生表中系主任列删掉,新增**系表**

**<center>解决问题2,3(增删数据)</center>**

![](https://hexoljj.oss-cn-shenzhen.aliyuncs.com/img/202112131126635.png)